<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Shuffle Demoï½œè¶…ç´šç‘ªåˆ©æ‰¾æœ€å¤§å€¼éŠæˆ²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --sky: #7ed6ff;
      --sky-top: #a5e0ff;
      --card-bg: #ffe07a;
      --card-edge: #c49a2c;
      --card-face: #fff4c2;
      --text-main: #1f2933;
      --text-sub: #4b5563;
      --accent: #ff6b6b;
      --accent-2: #4c6fff;
      --ground-top: #f6c67a;
      --ground-bottom: #b87722;
      --radius-lg: 22px;
      --radius-card: 18px;
      --shadow-soft: 0 12px 24px rgba(15, 23, 42, 0.35);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif, "Microsoft JhengHei";
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px 12px;
      background:
        linear-gradient(to bottom, var(--sky-top) 0, var(--sky) 60%, #fef3c7 60%, #fef3c7 100%);
      color: var(--text-main);
    }

    /* éŠæˆ²å¤–æ¡†ï¼šé¿å…ä½ èªªçš„é‚£ç¨®ã€Œæ€ªåŠåœ“ã€å•é¡Œï¼Œé€™é‚Šé‚Šè§’è·Ÿåº•è‰²éƒ½å°é½Š */
    .game-shell {
      width: 100%;
      max-width: 980px;
      background: #f9fafb;
      border-radius: 28px;
      box-shadow: var(--shadow-soft);
      overflow: hidden; /* ä¸Šä¸‹åœ“è§’åˆ‡ä¹¾æ·¨ï¼Œä¸æœƒéœ²å‡ºæ€ªæ±è¥¿ */
      position: relative;
    }

    .game-inner {
      padding: 20px 20px 16px;
    }

    /* ä¸Šæ–¹ header å€ */
    .header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 18px;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 10px;
    }

    .title-area {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .avatar {
      width: 52px;
      height: 52px;
      border-radius: 16px;
      background:
        linear-gradient(135deg, #ffdd55, #ff9f1c);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #1f2933;
      font-weight: 800;
      font-size: 22px;
      box-shadow: 0 10px 18px rgba(217, 119, 6, 0.55);
    }

    .title-text h1 {
      font-size: 20px;
      letter-spacing: 0.03em;
      margin-bottom: 4px;
    }

    .title-text p {
      font-size: 13px;
      color: var(--text-sub);
    }

    .tag-chip {
      align-self: center;
      font-size: 12px;
      color: var(--accent-2);
      background: #e0ebff;
      border-radius: 999px;
      padding: 6px 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .tag-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent-2);
    }

    /* èªªæ˜ + æŒ‰éˆ•åˆ— */
    .controls-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .instructions {
      font-size: 13px;
      color: var(--text-sub);
      max-width: 520px;
      line-height: 1.5;
    }

    .btn-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 8px 14px rgba(15, 23, 42, 0.35);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out,
        filter 0.12s ease-out;
      white-space: nowrap;
    }

    .btn-main {
      background: linear-gradient(135deg, #ff9f1c, #ff6b6b);
      color: #fff;
    }

    .btn-ghost {
      background: #ffffff;
      color: #374151;
    }

    .btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.4);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 4px 8px rgba(15, 23, 42, 0.35);
    }

    /* å¡ç‰‡å€ï¼šåƒä¸€æ’ç‘ªåˆ©æ­å•è™Ÿç£šå¡Š */
    .cards-row {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      margin-bottom: 10px;
    }

    @media (min-width: 720px) {
      .cards-row {
        grid-template-columns: repeat(6, minmax(0, 1fr));
      }
    }

    .card {
      position: relative;
      height: 150px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      border-radius: var(--radius-card);
      background:
        linear-gradient(to bottom, #ffe9a3, var(--card-bg));
      box-shadow: 0 8px 0 #b7791f, 0 12px 18px rgba(15, 23, 42, 0.4);
      border: 2px solid var(--card-edge);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out,
        border-color 0.12s ease-out, background 0.12s ease-out;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 6px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 20%, #fffbe3, var(--card-face));
      border: 2px solid rgba(248, 191, 63, 0.6);
    }

    .card-content {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .card-label {
      font-size: 11px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #6b7280;
    }

    .card-number {
      font-size: 32px;
      font-weight: 800;
      text-shadow: 0 3px 0 #b7791f;
    }

    .card-slot {
      font-size: 11px;
      color: #9ca3af;
    }

    .card.selected {
      transform: translateY(-4px);
      border-color: #3b82f6;
      box-shadow: 0 10px 0 #1d4ed8, 0 16px 24px rgba(37, 99, 235, 0.55);
    }

    .card.correct {
      border-color: #16a34a;
      box-shadow: 0 10px 0 #15803d, 0 16px 24px rgba(22, 163, 74, 0.55);
    }

    .card.wrong.selected {
      border-color: #dc2626;
      box-shadow: 0 10px 0 #b91c1c, 0 16px 24px rgba(239, 68, 68, 0.55);
    }

    .card.disabled {
      cursor: default;
      opacity: 0.85;
    }

    /* çµæœè¨Šæ¯åˆ— */
    .result-bar {
      margin-top: 4px;
      padding: 10px 12px 12px;
      border-radius: 16px;
      background: #eef2ff;
      border: 1px dashed #c7d2fe;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: space-between;
      align-items: baseline;
      font-size: 13px;
      color: #1e293b;
    }

    .result-main {
      font-weight: 600;
    }

    .result-sub {
      font-size: 12px;
      color: #4b5563;
    }

    /* åœ°æ¿ï¼šç‘ªåˆ©æ­åœ°é¢é¢¨æ ¼ï¼Œæ•´æ¢è·Ÿå¤–æ¡†é½Š */
    .ground {
      width: 100%;
      height: 32px;
      background: linear-gradient(to bottom, var(--ground-top), var(--ground-bottom));
      border-radius: 0 0 28px 28px;
      box-shadow: inset 0 6px 0 rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body>
  <div class="game-shell">
    <div class="game-inner">
      <header class="header">
        <div class="title-area">
          <div class="avatar">LJ</div>
          <div class="title-text">
            <h1>è¶…ç´šç‘ªåˆ© Â· æ‰¾æœ€å¤§å€¼æ’²å…‹ç‰Œ</h1>
            <p>é»ã€Œæ´—ç‰Œã€æ‰“äº‚æ•¸å­—ï¼Œé¸ä¸€å¼µä½ è¦ºå¾—æœ€å¤§çš„ï¼Œå†æª¢æŸ¥ç­”æ¡ˆã€‚</p>
          </div>
        </div>
        <div class="tag-chip">
          <span class="tag-dot"></span>
          <span>JavaScript æ•¸å­—æ¯”è¼ƒç·´ç¿’</span>
        </div>
      </header>

      <section class="controls-row">
        <p class="instructions">
          éŠæˆ²æµç¨‹ï¼š<br>
          â‘  æŒ‰ã€ŒğŸ² æ´—ç‰Œã€ç”¢ç”Ÿ 6 å€‹ 1ï½99 çš„éš¨æ©Ÿæ•¸å­—ã€‚<br>
          â‘¡ é»ä¸€å¼µç‰Œï¼Œé¸ä½ è¦ºå¾—ã€Œæœ€å¤§å€¼ã€é‚£å¼µã€‚<br>
          â‘¢ æŒ‰ã€Œâœ… æª¢æŸ¥æœ€å¤§å€¼ã€ï¼Œç³»çµ±æœƒæ¨™å‡ºçœŸæ­£æœ€å¤§å€¼ä¸¦åˆ¤æ–·ä½ æœ‰æ²’æœ‰é¸å°ã€‚
        </p>
        <div class="btn-row">
          <button id="btn-shuffle" class="btn btn-main">ğŸ² æ´—ç‰Œ</button>
          <button id="btn-check" class="btn btn-ghost">âœ… æª¢æŸ¥æœ€å¤§å€¼</button>
        </div>
      </section>

      <section class="cards-row" id="cards-row">
        <!-- 6 å¼µç‰Œï¼Œæ–‡å­—å°é½Šã€å¯¬é«˜ä¸€è‡´ -->
        <div class="card" data-index="0">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 1</div>
          </div>
        </div>
        <div class="card" data-index="1">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 2</div>
          </div>
        </div>
        <div class="card" data-index="2">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 3</div>
          </div>
        </div>
        <div class="card" data-index="3">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 4</div>
          </div>
        </div>
        <div class="card" data-index="4">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 5</div>
          </div>
        </div>
        <div class="card" data-index="5">
          <div class="card-content">
            <div class="card-label">CARD</div>
            <div class="card-number">?</div>
            <div class="card-slot">ä½ç½® 6</div>
          </div>
        </div>
      </section>

      <section class="result-bar">
        <div class="result-main" id="result-main">
          â¤ è«‹å…ˆæŒ‰ã€ŒğŸ² æ´—ç‰Œã€é–‹å§‹éŠæˆ²ã€‚
        </div>
        <div class="result-sub" id="result-sub">
          æœ€å¤§å€¼èˆ‡æ­£ç¢ºä½ç½®æœƒé¡¯ç¤ºåœ¨é€™è£¡ã€‚
        </div>
      </section>
    </div>

    <!-- åº•éƒ¨åœ°æ¿ -->
    <div class="ground"></div>
  </div>

  <script>
    const cards = Array.from(document.querySelectorAll(".card"));
    const btnShuffle = document.getElementById("btn-shuffle");
    const btnCheck = document.getElementById("btn-check");
    const resultMain = document.getElementById("result-main");
    const resultSub = document.getElementById("result-sub");

    let values = [];         // æ¯å¼µç‰Œä¸Šçš„æ•¸å­—
    let selectedIndex = null; // ç©å®¶é¸çš„é‚£å¼µ index
    let gameReady = false;    // æ˜¯å¦å·²ç¶“æ´—ç‰Œ

    // ç”¢ç”Ÿ 6 å€‹ 1~99 çš„éš¨æ©Ÿä¸é‡è¤‡æ•¸å­—
    function generateNumbers() {
      values = [];
      while (values.length < 6) {
        const n = Math.floor(Math.random() * 99) + 1; // 1~99
        if (!values.includes(n)) {
          values.push(n);
        }
      }
    }

    function renderCards() {
      cards.forEach((card, idx) => {
        const numEl = card.querySelector(".card-number");
        numEl.textContent = values[idx];
        card.classList.remove("selected", "correct", "wrong", "disabled");
      });
    }

    function resetSelection() {
      selectedIndex = null;
      cards.forEach(card => {
        card.classList.remove("selected", "correct", "wrong");
      });
    }

    // æ´—ç‰ŒæŒ‰éˆ•
    btnShuffle.addEventListener("click", () => {
      generateNumbers();
      renderCards();
      resetSelection();
      gameReady = true;
      resultMain.textContent = "è«‹é»é¸ä¸€å¼µä½ è¦ºå¾—æœ€å¤§çš„ç‰Œã€‚";
      resultSub.textContent = "æç¤ºï¼šå…±æœ‰ 6 å¼µç‰Œï¼Œæ•¸å­—ç¯„åœç‚º 1ï½99ã€‚";
    });

    // é»ç‰Œé¸æ“‡æœ€å¤§å€¼
    cards.forEach(card => {
      card.addEventListener("click", () => {
        if (!gameReady) return;
        resetSelection();
        const idx = Number(card.dataset.index);
        selectedIndex = idx;
        card.classList.add("selected");
        resultMain.textContent = `ä½ ç›®å‰é¸çš„æ˜¯ç¬¬ ${idx + 1} å¼µç‰Œï¼ˆæ•¸å­—ï¼š${values[idx]}ï¼‰ã€‚`;
        resultSub.textContent = "å¦‚æœç¢ºå®šï¼ŒæŒ‰ã€Œâœ… æª¢æŸ¥æœ€å¤§å€¼ã€ã€‚";
      });
    });

    // æª¢æŸ¥æœ€å¤§å€¼
    btnCheck.addEventListener("click", () => {
      if (!gameReady) {
        resultMain.textContent = "é‚„æ²’æ´—ç‰Œå•¦ï¼å…ˆæŒ‰ã€ŒğŸ² æ´—ç‰Œã€ã€‚";
        resultSub.textContent = "ç³»çµ±éœ€è¦å…ˆç”¢ç”Ÿ 6 å€‹éš¨æ©Ÿæ•¸å­—ã€‚";
        return;
      }
      if (selectedIndex === null) {
        resultMain.textContent = "è«‹å…ˆé»ä¸€å¼µç‰Œï¼Œé¸å‡ºä½ è¦ºå¾—æœ€å¤§çš„æ•¸å­—ã€‚";
        resultSub.textContent = "é»æ“Šä»»ä¸€å¼µå¡ç‰‡å°±å¯ä»¥é¸æ“‡ã€‚";
        return;
      }

      // æ‰¾å‡ºæœ€å¤§å€¼èˆ‡ä½ç½®
      let maxValue = values[0];
      let maxIndex = 0;
      for (let i = 1; i < values.length; i++) {
        if (values[i] > maxValue) {
          maxValue = values[i];
          maxIndex = i;
        }
      }

      // å…ˆæ¸…é™¤ç‹€æ…‹
      cards.forEach(card => {
        card.classList.remove("correct", "wrong");
        card.classList.add("disabled");
      });

      // æ¨™è¨˜æœ€å¤§å€¼é‚£å¼µ
      cards[maxIndex].classList.add("correct");
      // ç©å®¶é¸éŒ¯æ‰åŠ  wrong æ¨™è¨˜
      if (selectedIndex !== maxIndex) {
        cards[selectedIndex].classList.add("wrong");
      }

      // é¡¯ç¤ºçµæœ
      if (selectedIndex === maxIndex) {
        resultMain.textContent = `âœ” æ­å–œï¼ä½ é¸å°äº†ï¼Œæœ€å¤§å€¼æ˜¯ ${maxValue}ã€‚`;
        resultSub.textContent = `æœ€å¤§å€¼åœ¨ç¬¬ ${maxIndex + 1} å¼µç‰Œã€‚å†æŒ‰ä¸€æ¬¡ã€ŒğŸ² æ´—ç‰Œã€å¯ä»¥é‡æ–°ç©ä¸€å±€ã€‚`;
      } else {
        resultMain.textContent = `âœ– æ²’é—œä¿‚ï½çœŸæ­£æœ€å¤§å€¼æ˜¯ ${maxValue}ã€‚`;
        resultSub.textContent = `æœ€å¤§å€¼åœ¨ç¬¬ ${maxIndex + 1} å¼µç‰Œï¼Œä½ é¸çš„æ˜¯ç¬¬ ${selectedIndex + 1} å¼µï¼ˆ${values[selectedIndex]}ï¼‰ã€‚å†è©¦ä¸€æ¬¡å§ï¼`;
      }

      gameReady = false; // é¿å…é‡è¤‡æª¢æŸ¥ï¼Œå¿…é ˆé‡æ–°æ´—ç‰Œ
    });
  </script>
</body>
</html>

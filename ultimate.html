<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>ğŸ€ çµ‚æ¥µå¯†ç¢¼</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg1:#ffd1dc;
  --bg2:#ffe6f0;
  --card:#fff0f6;
  --main:#ff69b4;
  --sub:#ffb6c1;
  --text:#d63384;
}

body{
  font-family:"Segoe UI",sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
  overflow:hidden;
}

.game{
  background:var(--card);
  padding:28px;
  border-radius:26px;
  width:320px;
  text-align:center;
  box-shadow:0 18px 40px rgba(255,182,193,.6);
  border:3px solid var(--sub);
  position:relative;
}

h1{color:var(--main);margin-top:0;}
.range{color:var(--main);font-weight:bold;margin-bottom:10px;}

input{
  width:85%;
  padding:12px;
  font-size:18px;
  border-radius:16px;
  border:2px solid var(--sub);
  text-align:center;
  outline:none;
}

input:focus{
  border-color:var(--main);
  box-shadow:0 0 8px var(--sub);
}

button{
  padding:12px;
  font-size:14px;
  border-radius:18px;
  border:none;
  cursor:pointer;
  margin:8px 4px;
  font-weight:bold;
  transition:.2s;
}
button:hover{transform:scale(1.08);}

.row{
  display:flex;
  gap:8px;
  justify-content:center;
  flex-wrap:wrap;
}

.row.main button{width:45%;}
.row.tools button{width:30%; font-size:13px;}
.row.tools button.hint{
  background:linear-gradient(135deg,#ffe6f0,#ffd1dc);
  color:#b03060;
}

.guess{
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  color:#7a003c;
}
.reset{
  background:linear-gradient(135deg,#fbc2eb,#a6c1ee);
  color:#4b0082;
}

.info{
  margin-top:10px;
  color:var(--text);
  font-size:16px;
}

/* ğŸ‰ ç‘èŠ± */
.confetti{
  position:absolute;
  width:10px;
  height:10px;
  animation:fall 2s linear forwards;
}
@keyframes fall{
  to{transform:translateY(420px) rotate(360deg);opacity:0;}
}
</style>
</head>

<body>

<div class="game">
  <h1>ğŸ€ çµ‚æ¥µå¯†ç¢¼</h1>

  <div class="range">
    ç¯„åœï¼š<span id="min">1</span> ï½ <span id="max">100</span>
  </div>

  <input type="number" id="input" placeholder="è¼¸å…¥æ•¸å­— ğŸ’—">

  <div class="row main">
    <button class="guess" onclick="check()">çŒœä¸€ä¸‹ ğŸ¯</button>
    <button class="reset" onclick="resetGame()">é‡ä¾† â™»ï¸</button>
  </div>

  <div class="row tools">
    <button onclick="theme('pink')">ç²‰ç´… ğŸ’—</button>
    <button onclick="theme('purple')">ç²‰ç´« ğŸ’œ</button>
    <button onclick="fullscreen()">å…¨è¢å¹• ğŸ“±</button>
  </div>

  <div class="row tools">
    <button class="hint" onclick="showHint()">ğŸ‘€ ç­”æ¡ˆæç¤º</button>
  </div>

  <div class="info" id="msg">å¿«ä¾†çŒœçŒœçœ‹ âœ¨</div>
  <div class="info">çŒœæ¸¬æ¬¡æ•¸ï¼š<span id="count">0</span></div>
</div>

<!-- ğŸµ éŸ³æ•ˆï¼ˆçŒœä¸­ï¼‰ -->
<audio id="winSound" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_9f5f86f7f0.mp3" type="audio/mpeg">
</audio>

<script>
let answer, min, max, count;
let hinted = false; // âœ… æ˜¯å¦å·²æç¤ºé

const input = document.getElementById("input");
const msgEl = document.getElementById("msg");
const minEl = document.getElementById("min");
const maxEl = document.getElementById("max");
const countEl = document.getElementById("count");

function msg(t){ msgEl.textContent = t; }

function update(){
  minEl.textContent = min;
  maxEl.textContent = max;
  countEl.textContent = count;
  input.value = "";
  input.focus();
}

function resetGame(){
  min = 1;
  max = 100;
  answer = Math.floor(Math.random() * 100) + 1;
  count = 0;
  hinted = false; // âœ… é‡ä¾†æ™‚å¯ä»¥å†æç¤ºä¸€æ¬¡
  msg("å¿«ä¾†çŒœçŒœçœ‹ âœ¨");
  update();
}

function check(){
  const n = Number(input.value);

  if(!n || n <= min || n >= max){
    msg("âš ï¸ è¦è¼¸å…¥ç¯„åœå…§çš„æ•¸å­—å”·ï½ï¼ˆä¸èƒ½ç­‰æ–¼ä¸Šä¸‹é™ï¼‰");
    return;
  }

  count++;

  if(n === answer){
    msg(`ğŸ‰ çŒœä¸­äº†ï¼ç­”æ¡ˆæ˜¯ ${answer} ğŸ’–`);
    try{ document.getElementById("winSound").play(); }catch(e){}
    confetti();
  }else if(n < answer){
    min = n;
    msg("â¬†ï¸ å¤ªå°äº†å•¦ï½");
  }else{
    max = n;
    msg("â¬‡ï¸ å¤ªå¤§å›‰ï½");
  }

  update();
}

function showHint(){
  if(hinted){
    msg("ğŸ˜ å·²ç¶“æç¤ºéä¸€æ¬¡å›‰ï½é è‡ªå·±åŠ æ²¹ ğŸ’ªğŸ’—");
    return;
  }
  hinted = true;
  msg(`ğŸ¤« å·å·å‘Šè¨´ä½ ï½ç­”æ¡ˆæ˜¯ ${answer}`);
}

function confetti(){
  for(let i=0;i<45;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100 + "%";
    c.style.top = "-10px";
    c.style.background = ["#ff69b4","#ffc0cb","#dda0dd","#ffd1dc","#fbc2eb"][Math.floor(Math.random()*5)];
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2000);
  }
}

function theme(t){
  if(t === "purple"){
    document.documentElement.style.setProperty("--bg1","#e0c3fc");
    document.documentElement.style.setProperty("--bg2","#fbc2eb");
    document.documentElement.style.setProperty("--main","#b5179e");
    document.documentElement.style.setProperty("--sub","#dda0dd");
    document.documentElement.style.setProperty("--text","#7b2cbf");
    msg("å·²åˆ‡æ›æˆç²‰ç´«ä¸»é¡Œ ğŸ’œ");
  }else{
    document.documentElement.style.setProperty("--bg1","#ffd1dc");
    document.documentElement.style.setProperty("--bg2","#ffe6f0");
    document.documentElement.style.setProperty("--main","#ff69b4");
    document.documentElement.style.setProperty("--sub","#ffb6c1");
    document.documentElement.style.setProperty("--text","#d63384");
    msg("å·²åˆ‡æ›æˆç²‰ç´…ä¸»é¡Œ ğŸ’—");
  }
}

function fullscreen(){
  const el = document.documentElement;
  if(el.requestFullscreen){
    el.requestFullscreen();
  }
}

resetGame();

// âœ… è®“ä½ æŒ‰ Enter ä¹Ÿèƒ½çŒœ
input.addEventListener("keydown", (e)=>{
  if(e.key === "Enter") check();
});
</script>

</body>
</html>
